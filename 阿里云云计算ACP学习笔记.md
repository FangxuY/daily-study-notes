# 阿里云云计算ACP学习笔记

***

## 第一章 云服务器 ECS

***

1. **云产品的*可用区*指的是一套独立的基础设施，不同的可用区之间基础设施（网络，电力和空调等）相互独立，即一个可用区出现基础设施故障不影响另外一个可用区，可用区之间内网互通 。**
2. 磁盘不能跨可用区使用。
3. 公网IP可以实现阿里云的云服务器ECS实例与Internet之间互访。云服务
   器ECS实例更换系统盘时，公网IP地址不会变化。
4. 云服务器ECS实例可以兼容CentOS操作系统。
5. **阿里云的云服务器ECS实例的快照是指某一个时间点上某一块磁盘的数据拷
   贝。用户不能保留自动快照到自己的OSS Bucket中。**
6. **ECS服务器会对每个访问的请求进行身份验证，其中Access Key Id用于标
   识访问者身份。**
7. 阿里云的云服务器ECS实例的可用区是指在同一地域内，电力和网络互相独
   立的物理区域。同一可用区内的ECS实例之间的网络延时更小，可用区之间能
   做到机房级别的故障隔离。是否将云服务器ECS实例放在同一个可用区内，主
   要取决于对容灾能力和网络延时的要求。【重点】
   1.2了解云服务器ECS的优势、计费、应用场景、API及SDK
   1、通过Open API进行阿里云的云服务器ECS实例的磁盘挂载的时候，发现不
   能成功挂载，可能是由于云服务器ECS实例的状态为启动中原因引起的。【重
   点】
   2、阿里云的云服务器ECS产品相比于传统服务器和虚拟主机的优势：【重点】
   ⚫每份数据多份副本
   ⚫单份数据损坏可在短时间内快速恢复
   ⚫无需额外的开发
   ⚫支持自动的磁盘数据备份
   3、公共镜像是阿里云官方提供的镜像，计费分为以下几种情况：
   ⚫Windows Server：计费与实例规格大小有关，以创建实例时显示的信息为
   准。
   ⚫Red Hat Enterprise Linux：收取镜像费用，以创建实例时显示的信息为准。
   ⚫其他：免费。
   1.3基于云服务器ECS产品进行应用的部署
   阿里云云计算专业认证（ACP级）－认证备考指南阿里云内部资料，严禁传播
   3
   1
   、
   在阿里云的云服务器ECS实例上进行网站的部署后，当访问网站的响应速度
   变慢且CPU利用率超过75%。为了快速缓解该应用服务器的压力，最紧要的事
   情是增加一台云服务器ECS实例，并采用负载均衡SLB进行负载分担。
   2
   、
   如果希望将应用部署在阿里云的产品上，并具备较高的可用性，可以满足提
   升应用可用性的需求的方式包括：【重点】
   ⚫使用负载均衡SLB挂载同一个地域的不同可用区的云服务器ECS实例来提升同一个地
   域的服务可用性。
   ⚫在不同的地域申请负载均衡SLB挂载该地域的不同可用区的云服务器ECS实例，同时
   结合DNS域名解析与多个负载均衡SLB配合使用来提升服务的可用性。
   ⚫使用多个地域的云服务器ECS实例来部署服务提升服务的可用性，这三种方式可以满
   足提升应用可用性的需求。
   1.4掌握云服务器ECS实例、磁盘、安全组、快照、镜像和标签的使
   用和操作
   1、通过阿里云的管理控制台进行磁盘挂载到云服务器ECS实例上的操作时，需
   要确保实例和云盘处于同一个地域的同一个可用区。【重点】
   2、已经有一台运行状态的云服务器ECS实例，并完成了所需的应用软件的部署。
   如果希望创建一个一样的云服务器ECS实例，可以采用基于现有的云服务器ECS
   实例的系统盘制作自定义镜像，并基于该自定义镜像生成新的云服务器ECS实
   例。【重点】
   3、当一个阿里云的云服务器ECS实例无法加入指定的安全组时，可能是本云服
   务器ECS实例目前已经加入的安全组数量达到上限原因造成的。【重点】
   4、云服务器ECS支持新增数据盘。
   5、在创建云服务器ECS实例的磁盘快照时所需的时间每次都不同。
   6、如果在创建Windows操作系统的阿里云的云服务器ECS实例时选择了数据
   盘，在登录实例后不需要任何操作就可以正常使用该数据盘。【重点】
   1.5能够发现并解决云服务器ECS实例的操作系统、服务器登录及其
   阿里云云计算专业认证（ACP级）－认证备考指南阿里云内部资料，严禁传播
   4
   他产品使用中常见的问题
   1
   、
   当通过云监控发现ECS实例的带宽利用率已经达到80%以上。在不希望对
   云服务器ECS实例重启的前提下，可以尝试通过升级ECS实例的带宽操作来缓
   解服务响应缓慢的问题。
   2、应用系统部署在阿里云的云服务器ECS实例上，系统每天晚上会进行当天运
   营数据的报表统计，如出现短暂的统计服务响应变慢的情况，但很快会自动消失，
   很可能是云服务器ECS实例自身的自动快照操作引起的。【重点】
   1.6能够基于云服务器ECS与负载均衡SLB、专有网络VPC、对象
   存储OSS、内容分发网络CDN、云数据库RDS、弹性伸缩（Auto 
   Scaling）、云盾和云监控产品实现应用的解决方案
   1、随着业务发展和用户量的增加，部署在ECS实例上数据库性能出现瓶颈。为
   了快速解决该问题，同时提高系统安全性和稳定性，可以选择阿里云的云数据库
   RDS产品。
   2、将Java应用程序、图片视频等静态文件都部署在一台ECS实例上提供服务。
   随着业务发展和用户量的增加，发现存储在ECS实例上的静态文件访问速度不
   能达到预期的要求。可以选择阿里云的对象存储OSS产品快速解决静态文件的
   访问速度问题。【重点】
   3、将网站部署在阿里云的云服务器ECS实例上，最近发现网站首页的宣传视频
   在某些区域播放速度良好，但是在其它地区播放速度很慢。为了解决此问题，可
   以选择阿里云内容分发网络CDN产品。【重点】
   4、为了防止云服务器ECS实例会遭受来自网络的暴力密码破解。阿里云的云盾
   产品提供了检测和防止云服务器ECS实例遭受暴力密码破解的安全防护功能。
   5、云计算一个重要特点是弹性，阿里云的用户可以根据业务需求和策略实现计
   算资源的自动调整。在业务量高峰时增加ECS实例来提升系统的处理能力，在
   业务量低谷时自动减少ECS实例以节约成本。针对此场景，阿里云的弹性伸缩
   Auto Scaling产品可以和云服务器ECS实例配合使用实现弹性计算。【重点】
   阿里云云计算专业认证（ACP级）－认证备考指南阿里云内部资料，严禁传播
   5
   6、云服务器ECS产品既可以单独的作为Web服务器，也可以与其他阿里云产
   品配合提供多媒体解决方案。在多媒体、大流量的APP或网站应用场景下，云
   服务器ECS实例与阿里云的对象存储OSS产品搭配，可以存储静态图片、视频、
   下载包等来降低存储费用。【重点】
   7、在阿里云上，应对游戏行业这种场景的最佳阿里云产品的组合方式是负载均
   衡SLB+云服务器ECS+云数据库RDS+弹性伸缩Auto Scaling。
   8、为了提升在阿里云上部署的应用的可用性，可以在多可用区创建云服务器ECS
   实例并进行应用的部署，同时可以与负载均衡SLB产品搭配使用，实现高可用
   的架构。【重点】
   9、当无法预估业务增长的幅度，但云服务器ECS实例的CPU利用率如果超过
   了70%，业务的响应速度将会有大幅度的下降，将web应用部署在一组阿里云
   的云服务器ECS实例上，前端采用一个公网的负载均衡SLB作为流量入口。采
   用弹性伸缩Auto Scaling服务，设定伸缩规则，当CPU利用率超过70%的时
   候自动增加新的服务器ECS实例加入到负载均衡SLB的集群当中，CPU利用率
   低于30%的时候释放多余的云服务器ECS实例方式可以最高效并最节省地来应
   对这个场景。【重点】
   10、如果想要对云服务器ECS实例和云数据库RDS实例中所存放的数据变化趋
   势做一个监控，并在发生较大变化时能收到预警信息，可以使用阿里云的云监控
   产品实现，并在管理控制台中展现结果。
   11、云服务器ECS实例部署了Mysql数据库，随着业务量的不断上涨，部署的
   数据库的服务能力越来越不足，表现在并发连接数不足，磁盘的IOPS不能满足
   业务需求等，可以采用阿里云的云数据库RDS产品来解决这些问题。【重点】
   12、阿里云的对象存储OSS可以与云服务器ECS实例协同来实现文件存储的功
   能。云服务器ECS实例与OSS之间的请求次数，不分内外网都会计费。【重点】
   13、案例学习：某视频服务部署在阿里云的云服务器ECS上，春晚或每周五热
   门节目来临时，如临大敌，又不想长期采购大量的云服务器ECS实例提供服务，
   阿里云云计算专业认证（ACP级）－认证备考指南阿里云内部资料，严禁传播
   可以采用阿里云提供的弹性伸缩Auto Scaling产品来低成本地解决这个问题。
   【重点】
   14、可以通过阿里云的ECS管理控制台的实例详情页面进行CPU利用率和网络
   的出网和入网情况的监控和云监控服务的管理控制台进行实例运行情况的监控，
   并设置报警规则进行定制化的监控的方式进行您的阿里云的云服务器ECS实例
   的运行数据的监控，从而进行监控信息的分析来判断业务的运行状态。
   15、案例学习：基于阿里云的云服务器ECS实例构建了一个web网站向外提供
   服务，发现随着访问量的上涨，客户访问图片的速度有的时候会很慢，网页通过
   手机和pad等进行访问的时候，图片的适配也做的不太好，影响业务。通过将
   网站的图片存放到对象存储OSS中并开通图片处理的功能，在不同的终端访问
   时调用图片处理能力进行实时处理来解决适配问题和将网站的图片内容存放到
   对象存储OSS中解决访问速度慢的问题方式可以最高效率地解决此类问题。【重
   点】
   16、案例学习：某销售管理平台采用三台云服务器ECS实例进行构建，其中一
   台ECS实例安装了MySQL，作为平台的数据库服务器，另外两台当作WEB服
   务器。经过一段时间的发展，平台响应速度逐渐受到挑战，通过云监控发现两台
   ECS实例的CPU占用率平均超过70%，数据库的负载接近75%。遇到这种情
   况可以通过增加负载均衡SLB，并新增ECS实例的方式缓解现有ECS实例的负
   载，或者使用云数据库RDS代替自建MySQL，获得更好的数据库性能；并创
   建RDS只读实例分流数据库读请求，降低RDS实例主库的压力来优化性能。【重
   点】